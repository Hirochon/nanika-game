# Nanika Game

DDDï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆï¼‰ã¨ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«åŸºã¥ã„ãŸWebã‚²ãƒ¼ãƒ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### GitHub Codespacesç’°å¢ƒã§ã®èµ·å‹•

```bash
# ç’°å¢ƒã®è‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èµ·å‹•ã€ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚·ãƒ¼ãƒ‰æŠ•å…¥ã€ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼‰
npm run setup

# ãƒ•ãƒ«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’å«ã‚€ï¼‰
npm run setup:full
```

### æ‰‹å‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

1. **ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
```bash
npm install
```

2. **ç’°å¢ƒå¤‰æ•°ã®è¨­å®š**
```bash
cp .env.example .env
# å¿…è¦ã«å¿œã˜ã¦.envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†
```

3. **PostgreSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®èµ·å‹•**
```bash
docker compose up -d postgres
```

4. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**
```bash
# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œ
npm run db:migrate

# ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã®æŠ•å…¥
npm run db:seed

# ã¾ãŸã¯ä¸€æ‹¬å®Ÿè¡Œ
npm run db:setup
```

5. **é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•**
```bash
npm run dev
```

## ğŸ“‹ åˆ©ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰

### é–‹ç™ºé–¢é€£
- `npm run dev` - é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
- `npm run build` - ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰
- `npm run preview` - ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢é€£
- `npm run db:migrate` - Prismaãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œ
- `npm run db:seed` - ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã®æŠ•å…¥
- `npm run db:reset` - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒªã‚»ãƒƒãƒˆï¼ˆãƒ‡ãƒ¼ã‚¿å‰Šé™¤ï¼‰
- `npm run db:setup` - ãƒªã‚»ãƒƒãƒˆå¾Œã«ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥

### ã‚³ãƒ¼ãƒ‰å“è³ª
- `npm run format` - ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆBiomeï¼‰
- `npm run lint` - Lintãƒã‚§ãƒƒã‚¯
- `npm run lint:fix` - Lintè‡ªå‹•ä¿®æ­£
- `npm run typecheck` - TypeScriptå‹ãƒã‚§ãƒƒã‚¯
- `npm run test` - ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- `npm run setup` - ã‚¯ã‚¤ãƒƒã‚¯ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆDBèµ·å‹•ãƒ»ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚·ãƒ¼ãƒ‰ãƒ»ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼‰
- `npm run setup:full` - ãƒ•ãƒ«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å«ã‚€ï¼‰

## ğŸŒ ã‚¢ã‚¯ã‚»ã‚¹URL

- **é–‹ç™ºã‚µãƒ¼ãƒãƒ¼**: http://localhost:5173
- **Prisma Studio**: http://localhost:5555
- **PostgreSQL**: localhost:5432

## ğŸ“ ãƒ†ã‚¹ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã«ã¯ä»¥ä¸‹ã®ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ï¼š

| ãƒ­ãƒ¼ãƒ« | ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ |
|--------|---------------|------------|
| ç®¡ç†è€… | admin@example.com | admin123 |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼1 | user1@example.com | password123 |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼2 | user2@example.com | password123 |
| ã‚²ã‚¹ãƒˆ | guest@example.com | guest123 |

## ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç¢ºèªæ–¹æ³•

### 1. Prisma Studioï¼ˆGUIï¼‰
```bash
npx prisma studio
```
ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:5555 ã«ã‚¢ã‚¯ã‚»ã‚¹

### 2. psqlã‚³ãƒãƒ³ãƒ‰ï¼ˆCLIï¼‰
```bash
# ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§
docker exec nanika-game-db psql -U nanika_user -d nanika_game -c "\dt"

# ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ç¢ºèª
docker exec nanika-game-db psql -U nanika_user -d nanika_game -c "SELECT * FROM users;"
```

### 3. ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
```bash
npx tsx scripts/check-db.ts
```

## ğŸ—ï¸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
/
â”œâ”€â”€ app/                   # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ web/              # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆReact Routerï¼‰
â”‚   â”œâ”€â”€ api/              # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIï¼ˆå°†æ¥å®Ÿè£…ï¼‰
â”‚   â”œâ”€â”€ domain/           # ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ï¼ˆå…±æœ‰ï¼‰
â”‚   â””â”€â”€ shared/           # å…±æœ‰ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”œâ”€â”€ prisma/               # Prismaã‚¹ã‚­ãƒ¼ãƒã¨ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ schema.prisma     # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â””â”€â”€ seed.ts          # ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ scripts/             # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ setup.sh         # ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ check-db.ts      # DBç¢ºèªã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ docker-compose.yml   # Dockerè¨­å®šï¼ˆPostgreSQLï¼‰
â””â”€â”€ .env                 # ç’°å¢ƒå¤‰æ•°

```

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒãƒ¼ãƒˆãŒæ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹å ´åˆ
```bash
# æ—¢å­˜ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’åœæ­¢
lsof -ti:5173 | xargs kill -9  # Viteã‚µãƒ¼ãƒãƒ¼
lsof -ti:5432 | xargs kill -9  # PostgreSQL
lsof -ti:5555 | xargs kill -9  # Prisma Studio
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼ã®å ´åˆ
```bash
# Dockerã‚³ãƒ³ãƒ†ãƒŠã®çŠ¶æ…‹ç¢ºèª
docker ps

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚³ãƒ³ãƒ†ãƒŠã®å†èµ·å‹•
docker compose restart postgres

# ãƒ­ã‚°ç¢ºèª
docker logs nanika-game-db
```

### ç’°å¢ƒã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
```bash
# ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’åœæ­¢
docker compose down

# ãƒ‡ãƒ¼ã‚¿ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚‚å«ã‚ã¦å‰Šé™¤ï¼ˆæ³¨æ„ï¼šãƒ‡ãƒ¼ã‚¿ãŒæ¶ˆãˆã¾ã™ï¼‰
docker compose down -v
```

## ğŸ“š è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ](/.claude/01_development_docs/01_architecture_design.md)
- [é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³](/CLAUDE.md)
- [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦ä»¶](/.claude/00_project/01_nanika_concept_requirements.md)